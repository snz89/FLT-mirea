### Задача 1: Вывести отсортированный в алфавитном порядке список имен пользователей в файле `/etc/passwd`

**Шаг 1:** Использовать команду `grep`, чтобы извлечь данные пользователей из файла `/etc/passwd`.

**Шаг 2:** Использовать `cut`, чтобы получить только имена пользователей.

**Шаг 3:** Отсортировать результат с помощью `sort`.

```bash
grep '.*' /etc/passwd | cut -d ':' -f 1 | sort
```

- `grep '.*' /etc/passwd` — выводит все строки файла `/etc/passwd`.
- `cut -d ':' -f 1` — разделяет строки по двоеточию и выводит первый столбец (имена пользователей).
- `sort` — сортирует имена в алфавитном порядке.

---

### Задача 2: Отсортировать и отформатировать данные из `/etc/protocols` для 5 наибольших портов

**Шаг 1:** Использовать `sort` для сортировки по номеру протокола.

**Шаг 2:** Использовать `head` для получения первых 5 строк.

```bash
cat /etc/protocols | sort -nr -k 2 | head -n 5 | awk '{print $2, $1}'
```

- `sort -nr -k 2` — сортировка в числовом порядке по второму столбцу (номер порта).
- `head -n 5` — выводит первые 5 строк.
- `awk '{print $2, $1}'` — меняет порядок столбцов.

---

### Задача 3: Программа `banner` средствами Bash

**Шаг 1:** Написать программу, которая принимает строку и выводит её в рамке.

```bash
#!/bin/bash
# Проверка аргументов
if [ -z "$1" ]; then
  echo "Использование: $0 <текст>"
  exit 1
fi

# Создание строки с текстом
text="$1"
len=${#text}
line="+$(printf -- '-%.0s' $(seq 1 $((len + 2))))+"

# Вывод баннера
echo "$line"
echo "| $text |"
echo "$line"
```

- `len=${#text}` — вычисляет длину строки.
- `printf -- '-%.0s' $(seq 1 $((len + 2)))` — выводит нужное количество символов `-`.
- Рамка выводится через переменные `line` и текст через `echo`.

**Проверка через ShellCheck:**

```bash
shellcheck ./banner.sh
```

---

### Задача 4: Программа для поиска всех идентификаторов в файле (C/C++ или Java)

**Шаг 1:** Использовать `grep` и регулярные выражения для поиска идентификаторов.

```bash
#!/bin/bash
# Поиск всех уникальных идентификаторов
grep -oP '\b[A-Za-z_][A-Za-z0-9_]*\b' $1 | sort -u
```

- `grep -oP '\b[A-Za-z_][A-Za-z0-9_]*\b'` — ищет все слова, соответствующие правилам идентификаторов.
- `sort -u` — сортирует и удаляет дубликаты.

---

### Задача 5: Программа для регистрации пользовательской команды

**Шаг 1:** Написать скрипт, который копирует файл в `/usr/local/bin` и устанавливает права доступа.

```bash
#!/bin/bash
# Проверка аргументов
if [ -z "$1" ]; then
  echo "Использование: $0 <файл>"
  exit 1
fi

# Копирование файла
sudo cp "$1" /usr/local/bin/
sudo chmod +x /usr/local/bin/"$1"
```

- `sudo cp "$1" /usr/local/bin/` — копирует файл в каталог `/usr/local/bin`.
- `sudo chmod +x` — устанавливает права на выполнение.

---

### Задача 6: Программа для проверки комментариев в первой строке файлов с расширением `.c`, `.js` или `.py`

**Шаг 1:** Использовать `grep` для проверки первой строки файла.

```bash
#!/bin/bash
# Проверка на наличие комментария
for file in "$@"; do
  if [[ $file == *.c || $file == *.js || $file == *.py ]]; then
    head -n 1 "$file" | grep -q '^//' && echo "$file содержит комментарий"
  fi
done
```

- `head -n 1` — выводит первую строку файла.
- `grep -q '^//'` — проверяет, начинается ли строка с комментария.

---

### Задача 7: Программа для нахождения файлов-дубликатов

**Шаг 1:** Использовать `md5sum` для создания хэшей файлов и поиска дубликатов.

```bash
#!/bin/bash
# Поиск дубликатов
find "$1" -type f -exec md5sum {} + | sort | uniq -D -w 32
```

- `find "$1" -type f` — ищет все файлы в каталоге.
- `md5sum` — создает хэш для каждого файла.
- `uniq -D -w 32` — выводит дубликаты хэшей.

---

### Задача 8: Программа для архивации файлов с указанным расширением

**Шаг 1:** Использовать `find` для поиска файлов и `tar` для архивации.

```bash
#!/bin/bash
# Архивация файлов с указанным расширением
if [ -z "$2" ]; then
  echo "Использование: $0 <каталог> <расширение>"
  exit 1
fi

find "$1" -name "*.$2" -print0 | tar -cvf archive.tar --null -T -
```

- `find "$1" -name "*.$2"` — находит файлы с заданным расширением.
- `tar -cvf archive.tar` — создает архив `archive.tar`.

---

### Задача 9: Программа для замены 4 пробелов на табуляцию

**Шаг 1:** Использовать `sed` для замены последовательности из 4 пробелов на табуляцию.

```bash
#!/bin/bash
# Замена пробелов на табуляцию
sed 's/    /\t/g' "$1" > "$2"
```

- `sed 's/    /\t/g'` — заменяет все 4 пробела на табуляцию.

---

### Задача 10: Программа для вывода пустых текстовых файлов

**Шаг 1:** Использовать `find` для поиска пустых файлов.

```bash
#!/bin/bash
# Поиск пустых файлов
find "$1" -type f -empty -exec file {} + | grep 'text'
```

- `find "$1" -type f -empty` — находит пустые файлы.
- `file` — проверяет тип файла.
- `grep 'text'` — фильтрует только текстовые файлы.